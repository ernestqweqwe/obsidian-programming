### 1. WebSocket

**Принцип:** постоянное двустороннее соединение  
**Как работает:**  
- Начинается с HTTP-запроса `Upgrade`  
- Устанавливается TCP-соединение  
- Клиент и сервер могут обмениваться данными в любое время  

**Плюсы:**  
- Настоящий real-time  
- Двусторонняя связь  
- Минимальные накладные расходы (без заголовков HTTP)  

**Минусы:**  
- Сложнее в реализации  
- Может блокироваться прокси/фаерволами  
- Требует пинг-понга/heartbeat для поддержания соединения  
- Не всегда дружелюбен к масштабируемости (долгоживущие соединения)  

**Поддержка:**  
- IE10+, Chrome 14+, Firefox 6+  
- Не работает в старых браузерах (IE9 и ниже)

---

### 2. Server Sent Events (SSE)

**Принцип:** однонаправленное соединение: **сервер → клиент**  
**Как работает:**  
- Клиент делает `GET`-запрос с `Accept: text/event-stream`  
- Сервер держит соединение открытым и отправляет события (стрим данных)  

**Плюсы:**  
- Простая реализация  
- Работает по HTTP (обходит прокси/фаерволы)  
- Встроенная авто-реконнекция  
- Поддерживает idempotency через `Last-Event-ID`  

**Минусы:**  
- Только сервер → клиент  
- Не поддерживает бинарные данные  
- Нет поддержки в IE  

**Поддержка:**  
- IE10+ (частично), Chrome 6+, Firefox 6+  
- Не работает в IE9 и ниже

---

### 3. Long Polling

**Принцип:** клиент → сервер → ждёт → ответ → повтор  
**Как работает:**  
- Клиент отправляет HTTP-запрос  
- Сервер "висит", пока не появятся данные  
- Отдаёт ответ  
- Клиент сразу отправляет новый запрос  

**Плюсы:**  
- Максимальная совместимость  
- Работает даже в IE6  
- Простая реализация на основе обычных HTTP  

**Минусы:**  
- Высокая нагрузка на сервер (много соединений)  
- Задержки между запросами  
- Избыточный трафик (заголовки, новые соединения)  
- Неэффективен при частых событиях  

**Поддержка:**  
- Поддерживается всеми браузерами

---
### 4. Short Polling

**Принцип:** клиент регулярно делает частые HTTP-запросы для проверки обновлений  
**Как работает:**  
- Клиент через фиксированные интервалы (например, каждые 5 секунд) отправляет `GET`-запрос  
- Сервер сразу отвечает — есть ли новые данные  
- Независимо от результата, клиент продолжает опрашивать с заданной частотой  

**Плюсы:**  
- Простейшая реализация  
- Работает во всех браузерах  
- Легко отлаживается и контролируется  

**Минусы:**  
- Постоянный ненужный трафик  
- Большие накладные расходы (каждый раз новое соединение)  
- Реагирует с задержкой (до следующего интервала запроса)  
- Нагрузка на сервер и сеть при большом количестве клиентов  

**Когда применяют:**  
- В примитивных или старых системах  
- Когда real-time не критичен (например, обновление новостей)

---

### Сравнение с другими:

| Характеристика     | Short Polling   | Long Polling     | SSE               | WebSocket         |
|--------------------|------------------|------------------|-------------------|-------------------|
| Тип                | Однонаправленное | Однонаправленное | Однонаправленное  | Двунаправленное   |
| Поддержка          | Все браузеры     | Все браузеры     | IE10+, нет IE9    | IE10+, нет IE9    |
| Соединение         | Короткое         | Длинное          | Постоянное        | Постоянное        |
| Реакция сервера    | Сразу            | Ждёт данные      | По мере появления | По мере появления |
| Эффективность      | Низкая           | Средняя          | Хорошая           | Лучшая            |
| Удобство           | Простая настройка| Нужна логика     | Простая логика    | Сложная настройка |

---
### Что чаще применяли в старых браузерах?

✅ **Long Polling**  
- Работает в IE6+  
- Не требует новых API  
- Основан на обычных HTTP-запросах  

⚠ SSE и WebSocket **не поддерживались** в IE9 и ниже, поэтому приходилось либо:
- использовать **fallback** на Long Polling  
- либо применять сторонние библиотеки (Socket.IO) с автоматическим переключением

---

### Вывод

- **WebSocket** — для современных real-time систем (чаты, игры, биржи)  
- **SSE** — простой способ стримить данные (но однонаправленно)  
- **Long Polling** — универсальный, но неэффективный способ для старых браузеров  
- **Short Polling** — самый простой, но самый неэффективный способ "имитировать" real-time  